!function(){if(void 0===window.powerbiframehandlerscript){function e(e,t){if(e)for(var i=0;i<e.children.length;i++)if(e.children[i].tagName.toLowerCase()===t.toLowerCase())return e.children[i];return null}function n(t){if(t){var i=t.parentNode,n=e(i,"div");n&&i.removeChild(n);var r=i.querySelector(".pbi-resize-spinner");r&&i.removeChild(r),t.style.position="static",t.style.visibility="visible";var o=e(i,"img");o&&(o.style.display="none")}}function r(t,i){t.setAttribute("data-state",i);var o=t.querySelector(".pbi-resize-spinner");switch(t.innerHTML=""+o.outerHTML,i){case"loading":t.onclick=function(){r(t,"loadingnow")},t.parentNode.onclick=function(){r(t,"loadingnow")};break;case"readynow":p(),n(e(t.parentNode,"iframe"));break;case"ready":p(),(o=t.querySelector(".pbi-resize-spinner")).style.display="none",t.style.width="auto",t.onclick=function(t){n(e(t.target.parentNode,"iframe"))},t.parentNode.onclick=function(t){n(e(t.target.parentNode,"iframe"))}}}window.powerbiframehandlerscript=1,window.onmessage=function(t){if(function(e){try{if(e&&e.data&&"/reports/undefined/events/pageChanged"===e.data.url)return!0}catch(e){return}}(t)){var i=function(e){for(var t=document.getElementsByTagName("iframe"),i=0;i<t.length;i++)if(t[i].contentWindow===e)return t[i]}(t.source);setTimeout(function(){if(i&&i.parentNode.children.length>1)switch(i.parentNode.getAttribute("pbi-resize-load-event")){case"click":n(i);break;case"page-load":case"seconds-timeout":case"in-view":r(e(i.parentNode,"div"),"readynow")}},1e3*(i.parentNode.getAttribute("pbi-resize-delay-show")||1))}};var o=function(){for(var e=["top-hub","multis"],t=document.querySelectorAll(".pbi-resize-container"),i=0;i<t.length;i++)c(t,i,e),s(t,i)};function s(t,i){t[i].classList.contains("multis")&&!t[i].classList.contains("can-show-more")&&(t[i].classList.add("can-show-more"),e(t[i],"img").onload=function(e){var t=d()<=940;if(e.currentTarget.naturalHeight>=(t?"2400":"1040")){e.currentTarget.style.height="auto",e.currentTarget.parentNode.style.height="500px";var i=document.createElement("span");i.setAttribute("class","show-more"),i.style.position="absolute",i.style.bottom="0px",i.style.width="100%",i.style.textAlign="center",i.style.fontSize="1.3rem",i.style.lineHeight="normal",i.style.backgroundColor="#efefef",i.style.cursor="pointer",i.style.borderTop="1px #c5c5c5 solid",i.style.borderBottom="1px #c5c5c5 solid",i.style.padding="4px 0",i.textContent="Show More",i.addEventListener("click",function(e){e.currentTarget.classList.contains("show-more")?(e.currentTarget.parentNode.style.height="auto",e.currentTarget.classList.remove("show-more"),e.currentTarget.textContent="Show Less"):(e.currentTarget.parentNode.style.height="500px",e.currentTarget.classList.add("show-more"),e.currentTarget.textContent="Show More")}),e.currentTarget.parentNode.insertBefore(i,e.currentTarget)}})}function a(e,t){for(i=0;i<e.length;i++)if(t.includes(e[i]))return!0;return!1}function c(i,o,s){var c="https://app.powerbi.com/view?r=";i[o].style.width="100%";var f=d(),h=i[o].clientWidth,m=i[o].getAttribute("pbi-resize-mobile-min-width"),b=i[o].getAttribute("pbi-resize-img"),v=i[o].getAttribute("pbi-resize-m-img")||b,w=i[o].getAttribute("pbi-resize-width"),y=i[o].getAttribute("pbi-resize-height"),A=i[o].getAttribute("pbi-resize-rid");A=A?c+A:A;var z=i[o].getAttribute("pbi-resize-m-width"),N=i[o].getAttribute("pbi-resize-m-height"),E=i[o].getAttribute("pbi-resize-m-rid");E=E?c+E:E;var L=i[o].getAttribute("pbi-resize-load-event"),T=e(i[o],"img"),k=e(i[o],"iframe"),x=k?k.getAttribute("src"):null,C=N/z,S=y/w,M=f>m,W=A&&E?M?A:E:A,q=(k&&k.src===E||T&&T.src===v)&&M&&E!==A,H=(k&&k.src==A||T&&T.src==b)&&!M&&E!=A,I=i[o].children.length>1,O=!M&&v?v:b;if(T&&a(s,O)){var j=T.parentNode;(D=e(j,"div"))&&j.removeChild(D);var B=j.querySelector(".pbi-resize-spinner");B&&j.removeChild(B);var _=T.getAttribute("src");return _&&O===_||T.setAttribute("src",O),void(k&&(k.style.position="absolute",k.style.top=0,k.style.left=0,k.style.visibility="hidden"))}if(!x){if(k&&(k.style.position="absolute",k.style.top=0,k.style.left=0,k.style.visibility="hidden"),T&&T.setAttribute("src",O),!b&&A&&M||!v&&E&&!M)return k.setAttribute("src",!M&&E?E:A),n(k),void p();var D;if(b&&A||v&&E)switch(r(D=e(i[o],"div"),"waiting"),L){case"page-load":console.log("go"),g(k.parentNode,W);break;case"seconds-timeout":var U=1e3*parseInt(i[o].getAttribute("pbi-resize-seconds"));console.log(U),t=setTimeout(function(){g(k.parentNode,W)},U);break;case"in-view":I&&!k.src&&u(T)&&g(k.parentNode,W),window.addEventListener("scroll",function(){I&&!k.src&&u(T)&&g(k.parentNode,W)},!1);break;case"click":D.onclick=function(){g(k.parentNode,W)},i[o].firstChild.onclick=function(){g(k.parentNode,W)}}}x==b&&!b&&A&&M||x==v&&!v&&E&&!M?n(k):(H||q)&&function(e,t,i,n,o){if(i&&n){var s=e.nextElementSibling;e instanceof HTMLImageElement&&s.src&&o!=s.src&&(s.setAttribute("src",o),r(s.nextElementSibling,"loading"));var a=t?i:n;e.setAttribute("src",a)}}(i[o].children[0],M,I?b:A,I?v:E,W),I&&(H&&!v&&E||q&&!b&&A)?n(k):!I&&(H&&v&&!E||q&&b&&!A)&&n(k),T&&T.parentNode&&l(T,!1,h,M,S,C,y,N,!0),k&&l(k,!1,h,M,S,C,y,N,!1)}function d(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function l(e,t,i,n,r,o,s,a,c){var d=c?0:45,l=n?r:o;e.parentNode.style.height=i*l+"px",e.style.height=i*l+d+"px"}function u(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function p(){if(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0){var e=document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}else window.dispatchEvent(new Event("resize"))}function g(t,i){var n=e(t,"iframe"),o=e(t,"div");o.querySelector(".pbi-resize-spinner").style.display="block",n.setAttribute("src",i),n.setAttribute("frameborder","0"),n.setAttribute("allowFullScreen","true"),r(o,"loading")}document.addEventListener("DOMContentLoaded",o),window.addEventListener("resize",o),window.addEventListener("orientationchange",o),document.addEventListener("DOMContentLoaded",function(){var e=function(){var e=document.querySelector(".pbi-resize-container");if(!e)return!1;var t=e.getAttribute("pbi-resize-img");if(!t)return!1;var i=t.split("/").indexOf("images");return!!i&&t.split("/")[i+1]}();if(!e)return null;fetch("https://cdn.jsdelivr.net/gh/247patrick/covid_visuals/json/state-info.json").then(e=>e.json()).then(t=>{if(t.states&&t.states[e]&&t.states[e].last_updated){var i=t.states[e].last_updated;console.log(i)}})})}}();